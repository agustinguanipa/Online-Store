-- MySQL Script generated by MySQL Workbench
-- Thu May 30 15:34:58 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema sigmaos_bd
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema sigmaos_bd
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `sigmaos_bd` DEFAULT CHARACTER SET utf8 ;
USE `sigmaos_bd` ;

-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_cate`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_cate` (
  `ident_cate` INT(2) NOT NULL AUTO_INCREMENT,
  `nombr_cate` VARCHAR(100) NULL,
  PRIMARY KEY (`ident_cate`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_prod`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_prod` (
  `ident_prod` CHAR(10) NOT NULL,
  `nombr_prod` VARCHAR(100) NULL,
  `desco_prod` VARCHAR(200) NULL,
  `desla_prod` VARCHAR(400) NULL,
  `preci_prod` FLOAT NULL,
  `pesoo_prod` FLOAT NULL,
  `taman_prod` FLOAT NULL,
  `stock_prod` INT(10) NULL,
  `estad_prod` VARCHAR(20) NULL,
  `imag1_prod` VARCHAR(300) NULL,
  `imag2_prod` VARCHAR(300) NULL,
  `imag3_prod` VARCHAR(300) NULL,
  `statu_prod` CHAR(1) NULL,
  `ident_cate` INT(2) NOT NULL,
  PRIMARY KEY (`ident_prod`),
  INDEX `fk_tabla_cate1_idx` (`ident_cate` ASC),
  CONSTRAINT `fk_tabla_cate1`
    FOREIGN KEY (`ident_cate`)
    REFERENCES `sigmaos_bd`.`tabma_cate` (`ident_cate`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_clie`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_clie` (
  `ident_clie` INT(10) NOT NULL AUTO_INCREMENT,
  `nomb1_clie` VARCHAR(20) NULL,
  `nomb2_clie` VARCHAR(20) NULL,
  `apel1_clie` VARCHAR(20) NULL,
  `apel2_clie` VARCHAR(20) NULL,
  `gener_clie` VARCHAR(10) NULL,
  `telef_clie` VARCHAR(15) NULL,
  `email_clie` VARCHAR(100) NULL,
  `usuar_clie` VARCHAR(20) NULL,
  `contr_clie` VARCHAR(20) NULL,
  `fecre_clie` DATE NULL,
  `statu_clie` CHAR(1) NULL,
  PRIMARY KEY (`ident_clie`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_stor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_stor` (
  `ident_stor` INT(10) NOT NULL AUTO_INCREMENT,
  `descr_stor` VARCHAR(50) NULL,
  PRIMARY KEY (`ident_stor`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_orde`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_orde` (
  `ident_orde` INT(10) NOT NULL AUTO_INCREMENT,
  `fecha_orde` DATE NULL,
  `monto_orde` FLOAT NULL,
  `ident_clie` INT(10) NOT NULL,
  `ident_stor` INT(10) NOT NULL,
  PRIMARY KEY (`ident_orde`),
  INDEX `fk_tabla_clie2_idx` (`ident_clie` ASC),
  INDEX `fk_tabla_stor1_idx` (`ident_stor` ASC),
  CONSTRAINT `fk_tabla_clie2`
    FOREIGN KEY (`ident_clie`)
    REFERENCES `sigmaos_bd`.`tabma_clie` (`ident_clie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_stor1`
    FOREIGN KEY (`ident_stor`)
    REFERENCES `sigmaos_bd`.`tabtr_stor` (`ident_stor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_empr`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_empr` (
  `ident_empr` INT(2) NOT NULL AUTO_INCREMENT,
  `nombr_empr` VARCHAR(20) NULL,
  PRIMARY KEY (`ident_empr`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_pais`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_pais` (
  `ident_pais` INT(3) NOT NULL AUTO_INCREMENT,
  `nombr_pais` VARCHAR(50) NULL,
  PRIMARY KEY (`ident_pais`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_esta`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_esta` (
  `ident_esta` INT(2) NOT NULL AUTO_INCREMENT,
  `nombr_esta` VARCHAR(50) NULL,
  `ident_pais` INT(2) NOT NULL,
  PRIMARY KEY (`ident_esta`),
  INDEX `fk_tabla_pais1_idx` (`ident_pais` ASC),
  CONSTRAINT `fk_tabla_pais1`
    FOREIGN KEY (`ident_pais`)
    REFERENCES `sigmaos_bd`.`tabma_pais` (`ident_pais`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_muni`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_muni` (
  `ident_muni` INT(2) NOT NULL AUTO_INCREMENT,
  `nombr_muni` VARCHAR(50) NULL,
  `ident_esta` INT(2) NOT NULL,
  PRIMARY KEY (`ident_muni`),
  INDEX `fk_tabla_esta1_idx` (`ident_esta` ASC),
  CONSTRAINT `fk_tabla_esta1`
    FOREIGN KEY (`ident_esta`)
    REFERENCES `sigmaos_bd`.`tabma_esta` (`ident_esta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_dire`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_dire` (
  `ident_dire` INT(10) NOT NULL AUTO_INCREMENT,
  `calle_dire` VARCHAR(100) NULL,
  `aveni_dire` VARCHAR(100) NULL,
  `secto_dire` VARCHAR(100) NULL,
  `codpo_dire` CHAR(10) NULL,
  `ident_muni` INT(2) NOT NULL,
  `ident_clie` INT(10) NOT NULL,
  PRIMARY KEY (`ident_dire`),
  INDEX `fk_tabla_muni1_idx` (`ident_muni` ASC),
  INDEX `fk_tabla_clie1_idx` (`ident_clie` ASC),
  CONSTRAINT `fk_tabla_muni1`
    FOREIGN KEY (`ident_muni`)
    REFERENCES `sigmaos_bd`.`tabma_muni` (`ident_muni`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_clie1`
    FOREIGN KEY (`ident_clie`)
    REFERENCES `sigmaos_bd`.`tabma_clie` (`ident_clie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_fact`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_fact` (
  `ident_fact` INT(10) NOT NULL AUTO_INCREMENT,
  `fecha_fact` DATE NULL,
  `monto_fact` FLOAT NULL,
  `statu_fact` VARCHAR(20) NULL,
  `ident_orde` INT(10) NOT NULL,
  PRIMARY KEY (`ident_fact`),
  INDEX `fk_tabla_orde1_idx` (`ident_orde` ASC),
  CONSTRAINT `fk_tabla_orde1`
    FOREIGN KEY (`ident_orde`)
    REFERENCES `sigmaos_bd`.`tabtr_orde` (`ident_orde`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_envi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_envi` (
  `ident_envi` INT(10) NOT NULL AUTO_INCREMENT,
  `fecha_envi` DATE NULL,
  `track_envi` CHAR(20) NULL,
  `ident_orde` INT(10) NOT NULL,
  `ident_empr` INT(2) NOT NULL,
  `ident_dire` INT(10) NOT NULL,
  `ident_fact` INT(10) NOT NULL,
  PRIMARY KEY (`ident_envi`),
  INDEX `fk_tabla_orde2_idx` (`ident_orde` ASC),
  INDEX `fk_tabla_empr1_idx` (`ident_empr` ASC),
  INDEX `fk_tabla_dire1_idx` (`ident_dire` ASC),
  INDEX `fk_tabla_fact1_idx` (`ident_fact` ASC),
  CONSTRAINT `fk_tabla_orde2`
    FOREIGN KEY (`ident_orde`)
    REFERENCES `sigmaos_bd`.`tabtr_orde` (`ident_orde`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_empr1`
    FOREIGN KEY (`ident_empr`)
    REFERENCES `sigmaos_bd`.`tabma_empr` (`ident_empr`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_dire1`
    FOREIGN KEY (`ident_dire`)
    REFERENCES `sigmaos_bd`.`tabma_dire` (`ident_dire`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_fact1`
    FOREIGN KEY (`ident_fact`)
    REFERENCES `sigmaos_bd`.`tabma_fact` (`ident_fact`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_deor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_deor` (
  `canti_orde` INT(10) NULL,
  `preci_orde` FLOAT NULL,
  `ident_orde` INT(10) NOT NULL,
  `ident_envi` INT(10) NOT NULL,
  `ident_prod` CHAR(10) NOT NULL,
  INDEX `fk_tabla_orde3_idx` (`ident_orde` ASC),
  INDEX `fk_tabla_envi1_idx` (`ident_envi` ASC),
  INDEX `fk_tabla_prod2_idx` (`ident_prod` ASC),
  CONSTRAINT `fk_tabla_orde3`
    FOREIGN KEY (`ident_orde`)
    REFERENCES `sigmaos_bd`.`tabtr_orde` (`ident_orde`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_envi1`
    FOREIGN KEY (`ident_envi`)
    REFERENCES `sigmaos_bd`.`tabtr_envi` (`ident_envi`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_prod2`
    FOREIGN KEY (`ident_prod`)
    REFERENCES `sigmaos_bd`.`tabma_prod` (`ident_prod`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_cart`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_cart` (
  `ident_cart` INT(10) NOT NULL AUTO_INCREMENT,
  `fecha_cart` DATE NULL,
  `monto_cart` FLOAT NULL,
  `ident_clie` INT(10) NOT NULL,
  PRIMARY KEY (`ident_cart`),
  INDEX `fk_tabla_clie3_idx` (`ident_clie` ASC),
  CONSTRAINT `fk_tabla_clie3`
    FOREIGN KEY (`ident_clie`)
    REFERENCES `sigmaos_bd`.`tabma_clie` (`ident_clie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_deca`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_deca` (
  `canti_deca` INT(10) NULL,
  `preci_deca` FLOAT NULL,
  `ident_cart` INT(10) NOT NULL,
  `ident_prod` CHAR(10) NOT NULL,
  INDEX `fk_tabla_cart1_idx` (`ident_cart` ASC),
  INDEX `fk_tabla_prod1_idx` (`ident_prod` ASC),
  CONSTRAINT `fk_tabla_cart1`
    FOREIGN KEY (`ident_cart`)
    REFERENCES `sigmaos_bd`.`tabma_cart` (`ident_cart`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_prod1`
    FOREIGN KEY (`ident_prod`)
    REFERENCES `sigmaos_bd`.`tabma_prod` (`ident_prod`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_banc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_banc` (
  `ident_banc` INT(2) NOT NULL AUTO_INCREMENT,
  `nombr_banc` VARCHAR(20) NULL,
  PRIMARY KEY (`ident_banc`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_pago`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_pago` (
  `ident_pago` INT(10) NOT NULL AUTO_INCREMENT,
  `fecha_pago` DATE NULL,
  `monto_pago` FLOAT NULL,
  `tipos_pago` VARCHAR(20) NULL,
  `refer_pago` VARCHAR(20) NULL,
  `image_pago` VARCHAR(300) NULL,
  `ident_fact` INT(10) NOT NULL,
  `ident_banc` INT(2) NOT NULL,
  PRIMARY KEY (`ident_pago`),
  INDEX `fk_tabla_fact2_idx` (`ident_fact` ASC),
  INDEX `fk_tabla_banc1_idx` (`ident_banc` ASC),
  CONSTRAINT `fk_tabla_fact2`
    FOREIGN KEY (`ident_fact`)
    REFERENCES `sigmaos_bd`.`tabma_fact` (`ident_fact`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_banc1`
    FOREIGN KEY (`ident_banc`)
    REFERENCES `sigmaos_bd`.`tabma_banc` (`ident_banc`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabma_admi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabma_admi` (
  `ident_admi` INT(2) NOT NULL AUTO_INCREMENT,
  `nomb1_admi` VARCHAR(20) NULL,
  `nomb2_admi` VARCHAR(20) NULL,
  `apel1_admi` VARCHAR(20) NULL,
  `apel2_admi` VARCHAR(20) NULL,
  `usuar_admi` VARCHAR(20) NULL,
  `contr_admi` VARCHAR(20) NULL,
  PRIMARY KEY (`ident_admi`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_acci`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_acci` (
  `ident_acci` INT(2) NOT NULL AUTO_INCREMENT,
  `descr_acci` VARCHAR(100) NULL,
  `ident_admi` INT(2) NOT NULL,
  PRIMARY KEY (`ident_acci`),
  INDEX `fk_tabla_admi1_idx` (`ident_admi` ASC),
  CONSTRAINT `fk_tabla_admi1`
    FOREIGN KEY (`ident_admi`)
    REFERENCES `sigmaos_bd`.`tabma_admi` (`ident_admi`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sigmaos_bd`.`tabtr_defa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sigmaos_bd`.`tabtr_defa` (
  `canti_defa` INT(10) NULL,
  `preci_defa` FLOAT NULL,
  `ident_fact` INT(10) NOT NULL,
  `ident_orde` INT(10) NOT NULL,
  INDEX `fk_tabla_fact3_idx` (`ident_fact` ASC),
  INDEX `fk_tabla_orde4_idx` (`ident_orde` ASC),
  CONSTRAINT `fk_tabla_fact3`
    FOREIGN KEY (`ident_fact`)
    REFERENCES `sigmaos_bd`.`tabma_fact` (`ident_fact`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tabla_orde4`
    FOREIGN KEY (`ident_orde`)
    REFERENCES `sigmaos_bd`.`tabtr_orde` (`ident_orde`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
